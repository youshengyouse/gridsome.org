(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{Q4w9:function(e,t,o){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},YQyi:function(e,t,o){"use strict";o.r(t);var s=o("K+aO"),r=o("Q4w9"),a=o("mGku");function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.default.config.optionMergeStrategies;var p={VueRemarkRoot:r.a},i=function(e){var t=e.options.components=e.options.components||{},o=e.options.computed=e.options.computed||{};Object.keys(p).forEach((function(e){"object"===n(p[e])&&"function"==typeof p[e].render||"function"==typeof p[e]&&"function"==typeof p[e].options.render?t[e]=p[e]:o[e]=function(){return p[e]}}))},c=a.default.config.optionMergeStrategies,u="__vueRemarkFrontMatter",v={excerpt:null,title:"在GitHub Pages上部署"};var _=function(e){e.options[u]&&(e.options[u]=v),a.default.util.defineReactive(e.options,u,v),e.options.computed=c.computed({$frontmatter:function(){return e.options[u]}},e.options.computed)},l=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("VueRemarkRoot",[o("h1",{attrs:{id:"在github-pages上部署"}},[o("a",{attrs:{href:"#%E5%9C%A8github-pages%E4%B8%8A%E9%83%A8%E7%BD%B2","aria-hidden":"true"}},[e._v("#")]),e._v("在GitHub Pages上部署")]),o("blockquote",[o("p",[e._v("github.io在国内可能访问不了,最后可以部署到 netlify上，或使用自已的域名")])]),o("p",[e._v("GitHub Pages提供了静态网站服务.请先将本地代码push到github上")]),o("p",[e._v("步骤如下:")]),o("ol",[o("li",[e._v("安装 "),o("code",{pre:!0},[e._v("gh-pages")]),e._v(" ，使用 "),o("code",{pre:!0},[e._v("yarn add gh-pages")]),e._v(" 或 "),o("code",{pre:!0},[e._v("npm i gh-pages")])]),o("li",[e._v("修改 "),o("code",{pre:!0},[e._v("gridsome.config.js")]),e._v(" ，添加下面内容:")])]),o("pre",{pre:!0,attrs:{class:"language-js"}},[o("code",{pre:!0,attrs:{class:"language-js"}},[e._v("  siteUrl"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://<your-github-username>.github.io'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  pathPrefix"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/<your-gridsome-repo-name>'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")])])]),o("ol",{attrs:{start:"3"}},[o("li",[e._v("修改 "),o("code",{pre:!0},[e._v("package.json")]),e._v("中的scripts部分，添加下面内容:")])]),o("pre",{pre:!0,attrs:{class:"language-json"}},[o("code",{pre:!0,attrs:{class:"language-json"}},[e._v("  "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"predeploy"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"npm run build"')]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"deploy"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"gh-pages -d dist"')])])]),o("ol",{attrs:{start:"4"}},[o("li",[o("p",[e._v("运行命令 "),o("code",{pre:!0},[e._v("npm run deploy")])])]),o("li",[o("p",[e._v("在github网站，进入指定仓库页面，点击"),o("code",{pre:!0},[e._v("Code")]),e._v(",发现多了一个分支"),o("code",{pre:!0},[e._v("gh-pages")]),e._v(",切换看下，发现就是本地dist目录的内容。点解Settings，一直向下拉，找到"),o("code",{pre:!0},[e._v("GitHub Pages")]),e._v("，在"),o("code",{pre:!0},[e._v("Danger Zone")]),e._v("上面， 发现已自动帮配置好了.")])])]),o("p",[o("strong",[e._v("Notes")])]),o("p",[e._v('GitHub Pages allows you to have a "GitHub user page" that acts as a profile/main page on '),o("code",{pre:!0},[e._v("<your-github-username>.github.io")]),e._v(" by having a repo named "),o("code",{pre:!0},[e._v("<your-github-username>.github.io")]),e._v(".")]),o("ul",[o("li",[e._v("If you are deploying to your GitHub user page (your main site on "),o("code",{pre:!0},[e._v("<username>.github.io")]),e._v("):"),o("ul",[o("li",[e._v("Make the following adjustments to your "),o("code",{pre:!0},[e._v("package.json")]),e._v(":"),o("pre",{pre:!0,attrs:{class:"language-json"}},[o("code",{pre:!0,attrs:{class:"language-json"}},[e._v("- "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"deploy"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"gh-pages -d dist"')]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n+ "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"deploy"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"gh-pages -b master -d dist"')]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")])])])]),o("li",[e._v("And Remove this line from "),o("code",{pre:!0},[e._v("gridsome.config.js")]),e._v(":"),o("pre",{pre:!0,attrs:{class:"language-js"}},[o("code",{pre:!0,attrs:{class:"language-js"}},[o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v(" pathPrefix"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/<your-gridsome-repo-name>'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")])])])])])]),o("li",[e._v("If you are using a custom URL such as "),o("code",{pre:!0},[e._v("www.yourname.com")]),e._v(" you will need to change "),o("code",{pre:!0},[e._v("gridsome.config.js")]),e._v(" to:"),o("pre",{pre:!0,attrs:{class:"language-js"}},[o("code",{pre:!0,attrs:{class:"language-js"}},[e._v("siteUrl"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://www.yourname.com'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")])])])]),o("li",[e._v("If you are using an apex domain for your GitHub user page (ie. "),o("code",{pre:!0},[e._v("https://yourname.com")]),e._v(" points to all of your GitHub Pages sites), and your Gridsome project is "),o("em",[e._v("not")]),e._v(" your GitHub user page (not on the root "),o("code",{pre:!0},[e._v("https://yourname.com")]),e._v(" page, but a separate repo), then you will need to make sure "),o("code",{pre:!0},[e._v("pathPrefix")]),e._v(" matches your Gridsome project's repo name in "),o("code",{pre:!0},[e._v("gridsome.config.js")]),e._v(":"),o("pre",{pre:!0,attrs:{class:"language-js"}},[o("code",{pre:!0,attrs:{class:"language-js"}},[e._v("pathPrefix"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/<your-gridsome-repo-name>'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")])])])])]),o("h2",{attrs:{id:"使用自已的域名"}},[o("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B7%B2%E7%9A%84%E5%9F%9F%E5%90%8D","aria-hidden":"true"}},[e._v("#")]),e._v("使用自已的域名")]),o("p",[e._v("达到效果：我想在浏览器中输入 "),o("code",{pre:!0},[e._v("gridsome.0he1.com")]),e._v(" 访问到我的gh-pages上的网站 "),o("code",{pre:!0},[e._v("https://youshengyouse.github.io/gridsome.org/")]),e._v("(首先要确保这个网址是可以访问的)，一共分三步，可以解决")]),o("ul",[o("li",[o("code",{pre:!0},[e._v("ping youshengyouse.github.io")]),e._v(" 得到ip地址为 "),o("code",{pre:!0},[e._v("185.199.110.153")])]),o("li",[e._v("进入域名注册商后台，我的是 "),o("code",{pre:!0},[e._v("cp.35.com")]),e._v("，对 "),o("code",{pre:!0},[e._v("0he1.com")]),e._v("解析，加上 "),o("code",{pre:!0},[e._v("A类型")]),e._v("，主机名是 "),o("code",{pre:!0},[e._v("gridsome")]),e._v("，IP地址或主机名中输入: "),o("code",{pre:!0},[e._v("185.199.110.153")])]),o("li",[e._v("进入仓库，点击Settings,向下拉，找到"),o("code",{pre:!0},[e._v("GitHub Pages")]),e._v("，在Custom domain中输入 "),o("code",{pre:!0},[e._v("gridsome.0he1.com")])]),o("li",[e._v("由于现在访问地址改了，修改"),o("code",{pre:!0},[e._v("gridsome.config.js")]),e._v("中"),o("code",{pre:!0},[e._v("pathPrefix")]),e._v("的值为"),o("code",{pre:!0},[e._v("/")]),e._v("，否则出现css,js等地址错误")])]),o("blockquote",[o("p",[e._v("项目根目录下，无须新建 CNAME文件\n域名注册商后台，域名无须使用cname解析")])]),o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",{pre:!0,attrs:{class:"language-text"}},[e._v("Your site's DNS settings are using a custom subdomain, gridsome.0he1.com, that's set up as an A record. We recommend you change this to a CNAME record pointing at [YOUR USERNAME].github.io. For more information, see https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/.")])]),o("p",[e._v("出现以上提示，但还是可以正常访问")])])}),[],!1,null,null,null);"function"==typeof i&&i(l),"function"==typeof _&&_(l);t.default=l.exports}}]);